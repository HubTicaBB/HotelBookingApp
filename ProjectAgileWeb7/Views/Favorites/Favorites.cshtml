@model List<ProjectAgileWeb7.Models.HotelUser>
@{
    ViewData["Title"] = "Favorites";
}
@{
    var user = @Model.FirstOrDefault();
}
<h1>Favorite hotels</h1>
<h5 class="mt-3">
    Dear <span>
        @if (ViewBag.User.LastName == null && ViewBag.User.LastName == null)
        {

            @ViewBag.User.UserName
        }
        else
        {
            @Html.Raw($"{@ViewBag.User.FirstName} {@ViewBag.User.LastName}")
        },
    </span> you have
    <span>
        @if (@Model.Count() == 0)
        {
            <span> no favorite hotels </span>
        }
        else if (@Model.Count() == 1)
        {
            <span>1 favorite hotel </span>
        }
        else
        {
            <span> @Model.Count() favorite hotels </span>
        }
    </span> saved on your account.
</h5>

@*@if (@Model.Count() == 0)
    {
        <p>You have no favorite hotels saved on your account. </p>
    }
    else*@
@if (@Model.Count() > 0)
{
    <div class="container  p-0 m-0">
        @foreach (var item in @Model)
        {
            <div class="card-deck">
                <div class="card mt-4">
                    <div class="card-body d-flex">
                        <div class="text-center">
                            <img class="hotel-image" src=@Url.Content(@item.Hotel.ImageUrl) />
                        </div>
                        <div class="ml-3">
                            <div>
                                <h2 class="hotel-name">
                                    @item.Hotel.Name

                                </h2>
                            </div>
                            <div>
                                @for (var i = 0; i < item.Hotel.Stars; i++)
                                {
                                    <i class="fas fa-star text-warning "></i>
                                }
                            </div>
                            <div>
                                <p>
                                    @item.Hotel.Address, @item.Hotel.ZipCode, @item.Hotel.City, @item.Hotel.Country
                                </p>
                                <p>
                                    Distance from centre: @item.Hotel.DistanceFromCenter km.
                                </p>
                            </div>
                            <div class="card-text text-justify">
                                <p>@item.Hotel.Description</p>
                            </div>

                            <div>
                                <p>
                                    Facilities: &nbsp;
                                    @foreach (var facility in item.Hotel.HotelFacilities)
                                    {
                                        <span class="mr-1">@facility.Facility.Name</span>
                                    }
                                </p>
                            </div>
                            <div class="card-text">
                                <p> <a href="@item.Hotel.Website">@item.Hotel.Website</a></p>
                            </div>
                        </div>
                    </div>

                    <div class="card-footer border-top-0 bg-white">
                        <a asp-controller="HotelDetails" asp-action="HotelPage" asp-route-id="@item.Hotel.HotelId" class="btn my-button  btn-lg btn-success float-right ">See details</a>
                    </div>
                </div>
            </div>
        }
    </div>
    <a asp-action="Index" asp-controller="Home" class="btn btn-primary mt-2">Back to homepage</a>

}
